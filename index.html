<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>kurtbira.net</title> 
<link href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,700;1,700&display=swap" rel="stylesheet">

<style>
/* GENEL SAYFA DÜZENİ (LAYOUT) */
body {
    margin: 0;
    background: #000;
    font-family: 'PT Serif', serif;
    font-weight: 700; 
    font-style: italic;
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* BAŞLIK VE METİN STİLLERİ */
header {
    margin-top: 20px;
    margin-bottom: 20px;
    font-size: 2rem;
    color: #00FF00;
}

.counter {
    margin-bottom: 15px;
    font-size: 1.7rem;
    color: #ffffff;
}

/* NAVİGASYON BUTONLARI (CSS) */
.controls button {
    background: none;
    border: none;
    color: #FFA500;
    text-decoration: underline;
    font-family: inherit;
    font-size: 1rem;
    cursor: pointer;
    margin: 0 10px;
}

/* DURUM KONTROLÜ */
.hidden {
    display: none;
}

/* MEDYA KONTEYNERI */
.image-box img {
    max-width: 95vw;
    max-height: 75vh; 
    object-fit: contain; 
    height: auto;
    display: block;
}

/* ALT TETİKLEYİCİ STİLİ */
.random-trigger {
    margin-top: 20px;
    margin-bottom: 50px;
    color: #ffffff;
    cursor: pointer;
    font-size: 0.8rem;
    text-decoration: underline;
}
</style>
</head>
<body>

<header>kurtbira.net</header>

<div class="counter">#<span id="counter">1</span></div>

<div class="controls">
    <button id="prevBtn" onclick="prev()">önceki</button>
    <button id="nextBtn" onclick="next()">sonraki</button>
</div>

<div class="image-box">
    <img id="img" src="">
</div>

<div class="random-trigger" onclick="randomImg()">rastgele</div>

<script>
/* VERİ KAYNAĞI */
const images = [
    "1.png", 
    "2.png", 
    "3.png",
    "4.png"
];

/* STATE (DURUM) YÖNETİMİ */
let currentIndex = 0;

/* INITIALIZATION */
window.onload = function() {
    const path = window.location.pathname.replace('/', '');
    const pathIndex = parseInt(path) - 1;

    if (!isNaN(pathIndex) && pathIndex >= 0 && pathIndex < images.length) {
        currentIndex = pathIndex;
        updateDisplay();
    } else {
        randomImg();
    }
};

/* UI UPDATE: URL değişir ama sekme başlığı kurtbira.net kalır */
function updateDisplay() {
    const imgElement = document.getElementById("img");
    const counterElement = document.getElementById("counter");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");

    // Görseli ve sayacı güncelle
    imgElement.src = images[currentIndex];
    counterElement.innerText = currentIndex + 1;

    // Adres çubuğundaki URL'yi güncelle (kurtbira.net/2 gibi)
    const newPath = "/" + (currentIndex + 1);
    window.history.pushState({ path: newPath }, '', newPath);

    // Sekme başlığını her zaman sabit tut
    document.title = "kurtbira.net";

    // Buton görünürlüğü
    currentIndex === 0 ? prevBtn.classList.add("hidden") : prevBtn.classList.remove("hidden");
    currentIndex === images.length - 1 ? nextBtn.classList.add("hidden") : nextBtn.classList.remove("hidden");
}

/* NAVİGASYON FONKSİYONLARI */
function next() {
    if (currentIndex < images.length - 1) {
        currentIndex++;
        updateDisplay();
    }
}

function prev() {
    if (currentIndex > 0) {
        currentIndex--;
        updateDisplay();
    }
}

function randomImg() {
    let randomIndex;
    do {
        randomIndex = Math.floor(Math.random() * images.length);
    } while (randomIndex === currentIndex && images.length > 1);
    
    currentIndex = randomIndex;
    updateDisplay();
}
</script>

</body>
</html>
